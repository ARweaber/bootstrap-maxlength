/* ==========================================================
 * bootstrap-maxlength.js v1.3.6
 * 
 * Copyright (c) 2013 Maurizio Napoleoni; 
 *
 * Licensed under the terms of the MIT license.
 * See: https://github.com/mimo84/bootstrap-maxlength/blob/master/LICENSE
 * ========================================================== */
(function(h){h.fn.extend({maxlength:function(e,l){function m(a){var c=a.val().match(/\n/g),c=c?c.length:0;return a.val().length+c}function j(a,c){return c-m(a)}function n(a,c){var b="";e.preText&&(b+=e.preText);b=b+c+e.separator+a;e.postText&&(b+=e.postText);return b}function p(a,c,b,d){d.html(n(b,a));if(0<a){a=e.threshold;var f=!0;!e.alwaysShow&&b-m(c)>a&&(f=!1);f?d.removeClass(e.limitReachedClass).addClass(e.warningClass).css({display:"block"}):d.css({display:"none"})}else d.removeClass(e.warningClass).addClass(e.limitReachedClass).css({display:"block"})}
function q(a,c){var b;b=a[0];b=h.extend({},"function"===typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},a.offset());var d=a.offset(),f=a.outerWidth(),g=c.outerWidth(),j=c.width(),k=c.height();switch(e.placement){case "bottom":c.css({top:d.top+b.height,left:d.left+b.width/2-j/2});break;case "top":c.css({top:b.top-k,left:b.left+b.width/2-j/2});break;case "left":c.css({top:b.top+b.height/2-k/2,left:b.left-j});break;case "right":c.css({top:b.top+b.height/
2-k/2,left:b.left+b.width});break;case "bottom-right":c.css({top:b.top+b.height,left:b.left+b.width});break;case "top-right":c.css({top:d.top-k,left:d.left+f});break;case "top-left":c.css({top:d.top-k,left:d.left-g});break;case "bottom-left":c.css({top:d.top+a.outerHeight(),left:d.left-g});break;case "centered-right":c.css({top:d.top+k/2,left:d.left+f-g-3})}}function g(a){return a.attr("maxlength")||a.attr("size")}var r=h("body");h.isFunction(e)&&!l&&(l=e,e={});e=h.extend({alwaysShow:!1,threshold:10,
warningClass:"badge badge-success",limitReachedClass:"badge badge-important",separator:" / ",preText:"",postText:"",placement:"bottom",validate:!1},e);return this.each(function(){var a=h(this),c=g(a),b=h("<span></span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:999}).html(n(c,"0"));a.is("textarea")&&(a.data("maxlenghtsizex",a.outerWidth()),a.data("maxlenghtsizey",a.outerHeight()),a.mouseup(function(){(a.outerWidth()!==a.data("maxlenghtsizex")||a.outerHeight()!==a.data("maxlenghtsizey"))&&
a.trigger("maxlenghtresized");a.data("maxlenghtsizex",a.outerWidth());a.data("maxlenghtsizey",a.outerHeight())}));r.append(b);a.focus(function(){var d=j(a,g(a));p(d,a,c,b);q(a,b)});a.on("maxlenghtresized",function(){q(a,b)});a.blur(function(){b.css("display","none")});a.keyup(function(){var d=j(a,g(a)),f=!0;e.validate&&0>d?f=!1:p(d,a,c,b);return f});a.keydown(function(b){if(0>=j(a,g(a))&&46!==b.keyCode&&8!==b.keyCode)return!1})})}})})(jQuery);